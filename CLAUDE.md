# CLAUDE.md

本文件为Claude Code (claude.ai/code) 在此代码库中工作提供指导。

## MCP服务器配置

此代码库使用在 `.mcp.json` 中配置的多个MCP服务器：

- **context7**: 库文档检索，使用API密钥认证
- **serena**: 代码分析和符号操作工具，用于IDE辅助和记忆管理
- **tavily-mcp**: 使用Tavily API的网页搜索功能
- **fetch**: URL获取和内容提取
- **playwright-extension**: 浏览器自动化和测试

## 智能子代理控制系统

### 可用子代理及使用场景

自定义代理定义在 `.claude/agents/` 目录中，可根据任务上下文智能选择：

#### 🎨 **UI/UX设计专家** (`ui-ux-desinger`)
- **使用场景**: 界面设计、设计系统、无障碍性、用户研究
- **触发关键词**: 设计、界面、用户体验、无障碍、组件库、线框图
- **能力**: Figma变量、WCAG合规、设计令牌、响应式设计

#### ⚛️ **前端开发专家** (`frontend-developer`)
- **使用场景**: React/Next.js开发、状态管理、性能优化
- **触发关键词**: React、组件、状态、性能、TypeScript、Next.js
- **能力**: React 19、服务器组件、并发渲染、CSS-in-JS、PWA

#### 🧠 **智能记忆管理** (`memory-manager`)
- **使用场景**: 代码检索、知识管理、项目理解
- **触发关键词**: 检索、记忆、理解、分析、探索、架构
- **能力**: 自动记忆维护、智能代码检索、知识图谱构建

### 代理选择策略

1. **设计相关任务** → UI/UX设计专家
2. **前端开发任务** → 前端开发专家  
3. **代码理解和检索** → 智能记忆管理
4. **复杂多领域任务** → 主代理协调多个子代理

### 记忆集成策略

- 所有代理操作前自动使用serena检查相关记忆
- 代码修改后自动更新记忆系统
- 新领域探索时创建新的记忆条目
- 保持记忆与代码状态实时同步

## 项目结构

- `.claude/agents/`: 智能子代理定义文件
- `.claude/`: Claude配置和设置
- `asstes/`: 静态资源文件
- `.mcp.json`: MCP服务器配置
- `.serena/`: Serena项目配置和记忆存储

## 开发工作流

1. **任务分析**: 根据上下文识别合适的子代理
2. **记忆检索**: 使用serena查看相关项目记忆
3. **代理执行**: 调用相应子代理处理任务
4. **记忆更新**: 任务完成后更新记忆系统
5. **知识积累**: 持续构建项目知识图谱

## 开发说明
- 使用serena工具进行智能代理路由和记忆管理
- 在处理实际代码项目时优先使用serena-memory-agent进行代码库分析
- 除非特别说明，请默认使用中文回复

此配置系统支持智能的上下文感知代理调度，确保高效的任务处理和知识管理。